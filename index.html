<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Feira 201 & 203</title>

  <!-- AOS CSS -->
  <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">

  <style>
    body {
      background-color: #006400;
      color: white;
      font-family: Arial, sans-serif;
      margin: 0;
      padding: 0 20px 40px 20px;
    }

    h1 {
      text-align: center;
      margin: 50px 0 30px 0;
    }

    .container {
      max-width: 1000px;
      margin: 0 auto;
      display: flex;
      flex-direction: column;
      gap: 20px;
    }

    .box {
      background-color: white;
      color: #005900;
      border-radius: 10px;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
      padding: 20px;
      box-sizing: border-box;
      display: flex;
      gap: 20px;
      align-items: center;
      flex-wrap: wrap;
    }

    .box h2 {
      text-align: center;
      font-size: 28px;
      margin-bottom: 15px;
      font-weight: bold;
      width: 100%;
    }

    .text {
      flex: 1;
      min-width: 250px;
    }

    .text p {
      text-align: justify;
      margin-bottom: 10px;
      line-height: 1.6;
      font-size: 17px;
    }

    .image {
      flex: 1;
      min-width: 250px;
      display: flex;
      justify-content: center;
    }

    .image img {
      max-width: 100%;
      border-radius: 10px;
      object-fit: cover;
    }

    /* Chat widget styles */
    #chatbot-button {
      position: fixed;
      bottom: 20px;
      right: 20px;
      background-color: #005900;
      color: white;
      border: none;
      border-radius: 50%;
      width: 60px;
      height: 60px;
      font-size: 30px;
      cursor: pointer;
      box-shadow: 0 4px 10px rgba(0,0,0,0.3);
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 9999;
    }

    #chatbot-window {
      position: fixed;
      bottom: 90px;
      right: 20px;
      width: 350px;
      max-height: 450px;
      background: white;
      border-radius: 10px;
      box-shadow: 0 4px 15px rgba(0,0,0,0.3);
      display: none;
      flex-direction: column;
      overflow: hidden;
      z-index: 9999;
    }

    #chatbot-header {
      background-color: #005900;
      color: white;
      padding: 10px;
      font-weight: bold;
      text-align: center;
    }

    #chatbot-messages {
      flex: 1;
      padding: 10px;
      overflow-y: auto;
      font-size: 14px;
      color: black;
      background: #f9f9f9;
    }

    .message {
      margin-bottom: 10px;
      padding: 8px 12px;
      border-radius: 12px;
      max-width: 80%;
      clear: both;
      word-wrap: break-word;
    }

    .user-message {
      background-color: #d0f0c0;
      color: #004d00;
      float: right;
    }

    .bot-message {
      background-color: #eee;
      color: #333;
      float: left;
    }

    #chatbot-input-area {
      display: flex;
      border-top: 1px solid #ccc;
    }

    #chatbot-input {
      flex: 1;
      border: none;
      padding: 10px;
      font-size: 14px;
      outline: none;
    }

    #chatbot-send-btn {
      background-color: #005900;
      border: none;
      color: white;
      padding: 0 20px;
      cursor: pointer;
      font-size: 16px;
    }
  </style>
</head>

<body>

  <h1>Feira de ciÃªncias 201 & 203</h1>

  <div class="container">
    <!-- Seus conteÃºdos jÃ¡ existentes -->

    <div class="box">
      <h2>Wabi-Sabi</h2>
      <div class="text">
        <p>Wabi-Sabi Ã© a arte de encontrar beleza na imperfeiÃ§Ã£o e na efemeridade da vida...</p>
        <!-- texto resumido para nÃ£o ficar muito longo aqui -->
      </div>
      <div class="image">
        <img src="https://source.unsplash.com/400x300/?nature,leaf" alt="Imagem Wabi-Sabi" />
      </div>
    </div>

    <!-- Outros boxes aqui... -->
  </div>

  <!-- AOS JS -->
  <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
  <script>
    AOS.init();
  </script>

  <!-- Chatbot Fake -->
  <button id="chatbot-button" title="Abrir Chatbot">ðŸ’¬</button>

  <div id="chatbot-window">
    <div id="chatbot-header">Chatbot IA Fake</div>
    <div id="chatbot-messages"></div>
    <div id="chatbot-input-area">
      <input id="chatbot-input" type="text" placeholder="Digite sua mensagem..." />
      <button id="chatbot-send-btn">Enviar</button>
    </div>
  </div>

  <script>
    const chatbotButton = document.getElementById('chatbot-button');
    const chatbotWindow = document.getElementById('chatbot-window');
    const chatbotMessages = document.getElementById('chatbot-messages');
    const chatbotInput = document.getElementById('chatbot-input');
    const chatbotSendBtn = document.getElementById('chatbot-send-btn');

    chatbotButton.addEventListener('click', () => {
      if (chatbotWindow.style.display === 'flex') {
        chatbotWindow.style.display = 'none';
      } else {
        chatbotWindow.style.display = 'flex';
        chatbotInput.focus();
      }
    });

    chatbotSendBtn.addEventListener('click', sendMessage);
    chatbotInput.addEventListener('keydown', (e) => {
      if (e.key === 'Enter') sendMessage();
    });

    // Banco de respostas fake para reciclagem
    const respostas = [
      {
        pergunta: /palito[s]? de picole/i,
        resposta: `Com palitos de picolÃ© e cola, vocÃª pode fazer porta-copos, mini caixas decorativas, ou atÃ© pequenos porta-retratos! Basta colar os palitos formando a base e as laterais, deixar secar, e pintar ou decorar como quiser.`
      },
      {
        pergunta: /porta[- ]?retrato/i,
        resposta: `Para fazer um porta-retrato, vocÃª pode usar papelÃ£o, palitos de picolÃ©, ou madeira leve. Monte a moldura colando as peÃ§as em formato retangular, deixe secar, e depois pinte ou decore com tecido ou papel colorido.`
      },
      {
        pergunta: /garrafa/i,
        resposta: `Com garrafas de vidro, vocÃª pode criar vasos decorativos ou luminÃ¡rias. Basta pintar a garrafa, colocar luzinhas dentro ou flores, e pronto!`
      },
      {
        pergunta: /papel/i,
        resposta: `Papel usado pode ser reaproveitado para fazer cadernos artesanais, cartÃµes personalizados ou atÃ© papel machÃª para esculturas.`
      },
      {
        pergunta: /tecido/i,
        resposta: `Tecidos velhos podem virar bolsas, almofadas ou panos de limpeza. Recorte e costure conforme sua criatividade!`
      }
    ];

    function sendMessage() {
      const message = chatbotInput.value.trim();
      if (!message) return;

      appendMessage(message, 'user');
      chatbotInput.value = '';
      chatbotInput.disabled = true;
      chatbotSendBtn.disabled = true;

      setTimeout(() => {
        const respostaEncontrada = respostas.find(r => r.pergunta.test(message));
        const botReply = respostaEncontrada
          ? respostaEncontrada.resposta
          : "Desculpe, ainda nÃ£o tenho uma ideia para isso, mas tente perguntar sobre materiais comuns para reciclagem!";

        appendMessage(botReply, 'bot');

        chatbotInput.disabled = false;
        chatbotSendBtn.disabled = false;
        chatbotInput.focus();
      }, 800); // espera 0.8s para parecer mais natural
    }

    function appendMessage(text, sender) {
      const messageDiv = document.createElement('div');
      messageDiv.classList.add('message');
      messageDiv.classList.add(sender === 'user' ? 'user-message' : 'bot-message');

      if (sender === 'bot') {
        // efeito de digitaÃ§Ã£o letra a letra
        let i = 0;
        const interval = setInterval(() => {
          messageDiv.textContent += text.charAt(i);
          i++;
          if (i === text.length) clearInterval(interval);
          chatbotMessages.scrollTop = chatbotMessages.scrollHeight;
        }, 30); // 30ms por letra
      } else {
        messageDiv.textContent = text;
      }

      chatbotMessages.appendChild(messageDiv);
      chatbotMessages.scrollTop = chatbotMessages.scrollHeight;
    }
  </script>
</body>
</html>
